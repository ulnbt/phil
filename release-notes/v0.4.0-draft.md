# v0.4.0 (Draft)

Release date: TBD

## Release Readiness Checklist

- [ ] #4 first-wave scope complete
- [ ] Any #8 dependencies for stats internals are complete
- [ ] `CHANGELOG.md` entry finalized
- [ ] `uv run --group dev pytest` passes
- [ ] `uv run --group dev pytest --cov=calc --cov-report=term-missing --cov-fail-under=90` passes
- [ ] Release body below reviewed against shipped behavior

## Highlights

- First focused stats/probability helper wave for terminal workflows.
- Explicit semantics and predictable output for script-friendly usage.
- Continued exact-first behavior, with clear signaling when approximation is used.

## User-Visible Changes

- Add:
  - Counting helpers (`nCr`, `nPr` aliases).
  - Descriptive stats helpers (`mean`, `variance`, `stddev`) with explicit semantics.
  - Binomial helpers (PMF/CDF) and z-score utility.
- Improve:
  - Documentation and examples for stats/probability workflows in one-shot and REPL.
- Change:
  - Internal stats implementation favors SymPy-native primitives over manual formula plumbing.

## Reliability and Correctness

- Guardrails:
  - Avoid ambiguous statistical defaults; require explicit semantics where needed.
- Error recovery:
  - Stats helper misuse returns targeted `hint:` guidance.
- Parser/safety:
  - Existing parser hardening and output contracts remain unchanged.

## Documentation and UX

- Add high-signal examples for common stats tasks.
- Keep help/tutorial discoverability aligned with first-minute success goals.

## Upgrade

Install/update:

```bash
uv tool upgrade philcalc
```

Validate:

```bash
phil :version
phil :check
```

## Linked Issues

- #4 Add exact-first stats/probability helper surface
- #8 Prefer SymPy built-ins over custom math plumbing

## GitHub Release Body (Final Copy)

````md
## Highlights

- First focused stats/probability helper wave for terminal workflows.
- Explicit semantics and predictable output for script-friendly usage.
- Continued exact-first behavior, with clear signaling when approximation is used.

## User-Visible Changes

- Add:
  - Counting helpers (`nCr`, `nPr` aliases).
  - Descriptive stats helpers (`mean`, `variance`, `stddev`) with explicit semantics.
  - Binomial helpers (PMF/CDF) and z-score utility.
- Improve:
  - Documentation and examples for stats/probability workflows in one-shot and REPL.
- Change:
  - Internal stats implementation favors SymPy-native primitives over manual formula plumbing.

## Reliability and Correctness

- Guardrails:
  - Avoid ambiguous statistical defaults; require explicit semantics where needed.
- Error recovery:
  - Stats helper misuse returns targeted `hint:` guidance.
- Parser/safety:
  - Existing parser hardening and output contracts remain unchanged.

## Upgrade

```bash
uv tool upgrade philcalc
```

```bash
phil :version
phil :check
```
````
